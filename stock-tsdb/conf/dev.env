# Stock-TSDB 开发环境配置
# LuaJIT 性能优化环境变量

# 数据存储路径
DATA_DIR="$(pwd)/data/dev"

# Redis 配置
REDIS_HOST="127.0.0.1"
REDIS_PORT=6379

# Web 服务器端口
METADATA_PORT=8080
BUSINESS_PORT=8081

# 开发模式设置
DEV_MODE=true
DEBUG=true
LOG_LEVEL="debug"

# LuaJIT 性能优化环境变量
# JIT编译器配置
LUAJIT_ENABLE_JIT=1
LUAJIT_OPT="-O3"
LUAJIT_MAX_TRACE_SIZE=1024
LUAJIT_MAX_RECORD_SIZE=512

# FFI优化配置
LUAJIT_FFI_CACHE_SIZE=10000
LUAJIT_FFI_PRECOMPILE=1
LUAJIT_FFI_MEMORY_POOL=128

# 内存管理优化
LUAJIT_GC_INCREMENTAL=1
LUAJIT_GC_PAUSE=100
LUAJIT_MAX_MEMORY=4096

# 性能调优（开发环境使用较小值）
BATCH_SIZE=100
CACHE_SIZE=1000
BATCH_FFI_SIZE=500

# 缓存配置
LRU_CACHE_SIZE=50000
QUERY_CACHE_SIZE=25000
METADATA_CACHE_SIZE=5000

# 测试数据设置
TEST_DATA_ENABLED=true

# 性能监控
ENABLE_PERFORMANCE_MONITOR=true
PERFORMANCE_MONITOR_INTERVAL=60
ENABLE_FFI_STATS=true